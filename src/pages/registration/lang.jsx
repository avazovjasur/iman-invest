import React, { useState } from 'react';
import { useRouter } from 'next/router';
import { useDispatch } from 'react-redux';
import { setLang } from '../../store/otpSlice';
import styles from '../../styles/modules/language.module.scss';

const Lang = () => {
    const router = useRouter();
    const dispatch = useDispatch();
    const [activeLang, setActiveLang] = useState('ru');

    function nextPage() {
        router.push('/registration/number');
    }

    const handleLangClick = (lang) => {
        setActiveLang(lang);
        dispatch(setLang(lang));
    };

    return <div className={styles.container}>
        <h1 className={styles.title}>Выберите язык</h1>
        <p className={styles.subtitle}>Tilni tanlov qiling <br /> Choose language</p>
        <div className={styles.langs}>
                <button
                    className={`${styles.lang} ${activeLang === 'ru' ? styles.active : ''}`}
                    onClick={() => handleLangClick('ru')}
                >
                <div className={styles.pic}>
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clipPath="url(#clip0_4564_19013)">
<path d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#F0F0F0"/>
<path d="M29.067 20.217C29.67 18.592 30 16.8344 30 14.9996C30 13.1648 29.67 11.4072 29.067 9.78223H0.932988C0.330059 11.4072 0 13.1648 0 14.9996C0 16.8344 0.330059 18.592 0.932988 20.217L15 21.5213L29.067 20.217Z" fill="#0052B4"/>
<path d="M15.0001 30.0004C21.4496 30.0004 26.9477 25.9298 29.0671 20.2178H0.933105C3.0525 25.9298 8.55064 30.0004 15.0001 30.0004Z" fill="#D80027"/>
</g>
<defs>
<clipPath id="clip0_4564_19013">
<rect width="30" height="30" fill="white"/>
</clipPath>
</defs>
</svg>
                </div>
                <p className={styles.text}>Русский</p>
            </button>
                <button
                    className={`${styles.lang} ${activeLang === 'uz' ? styles.active : ''}`}
                    onClick={() => handleLangClick('uz')}
                >
                <div className={styles.pic}>
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clipPath="url(#clip0_4564_19016)">
<path d="M0.708281 10.4344C0.248789 11.874 -5.85834e-05 13.4075 1.0345e-08 14.9995C-5.85834e-05 16.5915 0.248848 18.1252 0.70834 19.5647L15 20.217L29.2917 19.5648C29.7511 18.1252 30.0001 16.5915 30.0001 14.9996C30 13.4076 29.7512 11.874 29.2917 10.4344L15 9.78223L0.708281 10.4344Z" fill="#F0F0F0"/>
<path d="M29.2915 10.4344L14.9998 9.78223L0.708125 10.4344C0.571953 10.8612 0.454707 11.2963 0.356445 11.7387H29.643C29.5449 11.2963 29.4277 10.8611 29.2915 10.4344Z" fill="#D80027"/>
<path d="M0.356689 18.2607C0.454834 18.7031 0.57208 19.1382 0.708252 19.565L0.709658 19.5651L14.9999 20.2172L29.2915 19.5651C29.4277 19.1383 29.5449 18.7031 29.6431 18.2607H0.356689Z" fill="#D80027"/>
<path d="M14.9999 30.0002C21.6922 30.0002 27.36 25.6172 29.2915 19.5654H0.708252C2.63979 25.6172 8.30768 30.0002 14.9999 30.0002V30.0002Z" fill="#6DA544"/>
<path d="M14.9999 5.87466e-10C8.30769 5.85943e-05 2.63991 4.38305 0.708252 10.4348L29.2915 10.4348C27.3601 4.38299 21.6923 -5.85932e-05 14.9999 5.87466e-10V5.87466e-10Z" fill="#338AF3"/>
<path d="M6.8547 6.19547C6.8547 4.79057 7.84206 3.61693 9.1606 3.329C8.95798 3.28471 8.74769 3.26074 8.53171 3.26074C6.91089 3.26074 5.59692 4.57465 5.59692 6.19553C5.59692 7.81641 6.91077 9.13031 8.53171 9.13031C8.74769 9.13031 8.95792 9.10629 9.1606 9.06205C7.84212 8.774 6.8547 7.60037 6.8547 6.19547V6.19547Z" fill="#F0F0F0"/>
<path d="M10.8951 7.5293L11.0937 8.14072H11.7366L11.2166 8.51865L11.4152 9.13008L10.8951 8.75221L10.3749 9.13008L10.5736 8.51865L10.0535 8.14072H10.6964L10.8951 7.5293Z" fill="#F0F0F0"/>
<path d="M12.9472 7.5293L13.1459 8.14072H13.7888L13.2687 8.51865L13.4674 9.13008L12.9472 8.75221L12.4271 9.13008L12.6258 8.51865L12.1057 8.14072H12.7485L12.9472 7.5293Z" fill="#F0F0F0"/>
<path d="M14.9991 7.5293L15.1977 8.14072H15.8407L15.3206 8.51865L15.5192 9.13008L14.9991 8.75221L14.4789 9.13008L14.6777 8.51865L14.1575 8.14072H14.8004L14.9991 7.5293Z" fill="#F0F0F0"/>
<path d="M17.0511 7.5293L17.2498 8.14072H17.8926L17.3726 8.51865L17.5713 9.13008L17.0511 8.75221L16.5309 9.13008L16.7297 8.51865L16.2095 8.14072H16.8524L17.0511 7.5293Z" fill="#F0F0F0"/>
<path d="M19.1032 7.5293L19.3019 8.14072H19.9448L19.4247 8.51865L19.6234 9.13008L19.1032 8.75221L18.5831 9.13008L18.7818 8.51865L18.2617 8.14072H18.9046L19.1032 7.5293Z" fill="#F0F0F0"/>
<path d="M12.9472 5.39551L13.1459 6.00687H13.7888L13.2687 6.38486L13.4674 6.99623L12.9472 6.61836L12.4271 6.99623L12.6258 6.38486L12.1057 6.00687H12.7485L12.9472 5.39551Z" fill="#F0F0F0"/>
<path d="M14.9991 5.39551L15.1977 6.00687H15.8407L15.3206 6.38486L15.5192 6.99623L14.9991 6.61836L14.4789 6.99623L14.6777 6.38486L14.1575 6.00687H14.8004L14.9991 5.39551Z" fill="#F0F0F0"/>
<path d="M17.0511 5.39551L17.2498 6.00687H17.8926L17.3726 6.38486L17.5713 6.99623L17.0511 6.61836L16.5309 6.99623L16.7297 6.38486L16.2095 6.00687H16.8524L17.0511 5.39551Z" fill="#F0F0F0"/>
<path d="M19.1032 5.39551L19.3019 6.00687H19.9448L19.4247 6.38486L19.6234 6.99623L19.1032 6.61836L18.5831 6.99623L18.7818 6.38486L18.2617 6.00687H18.9046L19.1032 5.39551Z" fill="#F0F0F0"/>
<path d="M14.9991 3.26074L15.1977 3.87223H15.8407L15.3206 4.2501L15.5192 4.86158L14.9991 4.48371L14.4789 4.86158L14.6777 4.2501L14.1575 3.87223H14.8004L14.9991 3.26074Z" fill="#F0F0F0"/>
<path d="M17.0511 3.26074L17.2498 3.87223H17.8926L17.3726 4.2501L17.5713 4.86158L17.0511 4.48371L16.5309 4.86158L16.7297 4.2501L16.2095 3.87223H16.8524L17.0511 3.26074Z" fill="#F0F0F0"/>
<path d="M19.1032 3.26074L19.3019 3.87223H19.9448L19.4247 4.2501L19.6234 4.86158L19.1032 4.48371L18.5831 4.86158L18.7818 4.2501L18.2617 3.87223H18.9046L19.1032 3.26074Z" fill="#F0F0F0"/>
</g>
<defs>
<clipPath id="clip0_4564_19016">
<rect width="30" height="30" fill="white"/>
</clipPath>
</defs>
</svg>
                </div>
                <p className={styles.text}>O'zbekcha</p>
            </button>
                <button
                    className={`${styles.lang} ${activeLang === 'en' ? styles.active : ''}`}
                    onClick={() => handleLangClick('en')}
                >
                <div className={styles.pic}>
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clipPath="url(#clip0_4564_19019)">
<path d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#F0F0F0"/>
<path d="M3.10089 5.86719C1.92263 7.40018 1.03417 9.16707 0.516846 11.0865H8.32024L3.10089 5.86719Z" fill="#0052B4"/>
<path d="M29.4835 11.0865C28.9661 9.16707 28.0776 7.40018 26.8994 5.86719L21.6802 11.0865H29.4835Z" fill="#0052B4"/>
<path d="M0.516846 18.9131C1.03423 20.8325 1.92269 22.5994 3.10089 24.1323L8.32007 18.9131H0.516846Z" fill="#0052B4"/>
<path d="M24.1324 3.1007C22.5994 1.92244 20.8326 1.03398 18.9131 0.516602V8.31994L24.1324 3.1007Z" fill="#0052B4"/>
<path d="M5.86792 26.8989C7.40091 28.0771 9.1678 28.9656 11.0872 29.483V21.6797L5.86792 26.8989Z" fill="#0052B4"/>
<path d="M11.0872 0.516602C9.16774 1.03398 7.40085 1.92244 5.86792 3.10064L11.0872 8.31988V0.516602Z" fill="#0052B4"/>
<path d="M18.9131 29.483C20.8325 28.9656 22.5994 28.0771 24.1323 26.8989L18.9131 21.6797V29.483Z" fill="#0052B4"/>
<path d="M21.6802 18.9131L26.8994 24.1324C28.0776 22.5995 28.9661 20.8325 29.4835 18.9131H21.6802Z" fill="#0052B4"/>
<path d="M29.873 13.0435H16.9566H16.9566V0.126973C16.3161 0.0435938 15.6631 0 15 0C14.3368 0 13.6839 0.0435938 13.0435 0.126973V13.0434V13.0434H0.126973C0.0435938 13.6839 0 14.3369 0 15C0 15.6632 0.0435938 16.3161 0.126973 16.9565H13.0434H13.0434V29.873C13.6839 29.9564 14.3368 30 15 30C15.6631 30 16.3161 29.9565 16.9565 29.873V16.9566V16.9566H29.873C29.9564 16.3161 30 15.6632 30 15C30 14.3369 29.9564 13.6839 29.873 13.0435Z" fill="#D80027"/>
<path d="M18.9131 18.9131L25.6066 25.6067C25.9145 25.2989 26.2081 24.9772 26.4883 24.6437L20.7577 18.9131H18.9131V18.9131Z" fill="#D80027"/>
<path d="M11.0869 18.9131H11.0868L4.39331 25.6065C4.70104 25.9144 5.02278 26.2081 5.3563 26.4883L11.0869 20.7576V18.9131Z" fill="#D80027"/>
<path d="M11.087 11.0872V11.0871L4.39344 4.39355C4.08559 4.70129 3.79191 5.02303 3.51172 5.35654L9.24236 11.0872H11.087V11.0872Z" fill="#D80027"/>
<path d="M18.9131 11.087L25.6067 4.39338C25.2989 4.08553 24.9772 3.79186 24.6437 3.51172L18.9131 9.24236V11.087Z" fill="#D80027"/>
</g>
<defs>
<clipPath id="clip0_4564_19019">
<rect width="30" height="30" fill="white"/>
</clipPath>
</defs>
</svg>
                </div>
                <p className={styles.text}>English</p>
            </button>
        </div>
        <button onClick={nextPage} className={styles.next} type='button'>Продолжить</button>
    </div>
}

export default Lang